<!doctype html>
<html lang="no">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vilk√•r og personvern</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #f0f9f4 0%, #e8f5f0 100%);
      color: #1a1a1a;
      line-height: 1.6;
      min-height: 100%;
    }

    * {
      box-sizing: border-box;
    }

    .page-wrapper {
      width: 100%;
      padding: 48px 24px;
    }

    .hero-section {
      max-width: 800px;
      margin: 0 auto 40px;
      text-align: center;
    }

    .security-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: white;
      padding: 8px 16px;
      border-radius: 24px;
      font-size: 14px;
      color: #2d6a4f;
      font-weight: 500;
      box-shadow: 0 2px 8px rgba(45, 106, 79, 0.08);
      margin-bottom: 20px;
    }

    .hero-title {
      font-size: 48px;
      font-weight: 700;
      color: #1a1a1a;
      margin: 0 0 16px;
      letter-spacing: -0.5px;
    }

    .hero-subtitle {
      font-size: 18px;
      color: #5a5a5a;
      margin: 0;
      font-weight: 400;
    }

    .content-card {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 24px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
      padding: 56px;
    }

    .section {
      margin-bottom: 48px;
    }

    .section:last-of-type {
      margin-bottom: 0;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 20px;
    }

    .section-icon {
      width: 40px;
      height: 40px;
      flex-shrink: 0;
    }

    .section-title {
      font-size: 24px;
      font-weight: 600;
      color: #1a1a1a;
      margin: 0;
    }

    .section-content {
      margin-left: 56px;
      color: #4a4a4a;
      font-size: 16px;
    }

    .data-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 24px 0;
    }

    .data-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 16px;
      background: #f8fdf9;
      border-radius: 12px;
      border: 1px solid #e0f2e9;
    }

    .data-item-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
      color: #2d6a4f;
    }

    .data-item-content {
      flex: 1;
    }

    .data-item-title {
      font-weight: 600;
      color: #1a1a1a;
      margin: 0 0 4px;
      font-size: 15px;
    }

    .data-item-desc {
      color: #5a5a5a;
      margin: 0;
      font-size: 14px;
    }

    .info-notice {
      background: #f0f9f4;
      border: 1px solid #c7e9d6;
      border-radius: 12px;
      padding: 16px 20px;
      font-size: 14px;
      color: #2d6a4f;
      margin: 20px 0;
    }

    .info-box {
      background: #f8fdf9;
      border-left: 4px solid #52b788;
      border-radius: 12px;
      padding: 24px;
      margin: 24px 0;
    }

    .info-box-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .info-icon {
      width: 28px;
      height: 28px;
      color: #52b788;
    }

    .info-box-title {
      font-weight: 600;
      color: #1a1a1a;
      margin: 0;
      font-size: 16px;
    }

    .info-box ul {
      margin: 0;
      padding-left: 20px;
      color: #4a4a4a;
    }

    .info-box li {
      margin-bottom: 8px;
      font-size: 15px;
    }

    .warning-stripe {
      display: flex;
      align-items: center;
      gap: 16px;
      background: #fff8f0;
      border: 1px solid #ffe4c4;
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
    }

    .warning-icon {
      width: 32px;
      height: 32px;
      color: #d4a574;
      flex-shrink: 0;
    }

    .warning-text {
      color: #4a4a4a;
      font-size: 15px;
      margin: 0;
    }

    .contact-box {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      padding: 24px;
      background: #f8fdf9;
      border-radius: 12px;
      border: 1px solid #e0f2e9;
    }

    .contact-icon {
      width: 32px;
      height: 32px;
      color: #52b788;
      flex-shrink: 0;
    }

    .contact-content {
      flex: 1;
    }

    .contact-content p {
      margin: 0 0 8px;
      color: #4a4a4a;
      font-size: 15px;
    }

    .contact-email {
      color: #52b788;
      font-weight: 600;
      text-decoration: none;
    }

    .contact-email:hover {
      text-decoration: underline;
    }

    .footer {
      margin-top: 40px;
      padding-top: 32px;
      border-top: 1px solid #e8f5f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    .footer-text {
      color: #8a8a8a;
      font-size: 13px;
      margin: 0;
    }

    .back-link {
      color: #52b788;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: color 0.2s;
    }

    .back-link:hover {
      color: #2d6a4f;
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .page-wrapper {
        padding: 32px 16px;
      }

      .hero-title {
        font-size: 36px;
      }

      .hero-subtitle {
        font-size: 16px;
      }

      .content-card {
        padding: 32px 24px;
        border-radius: 16px;
      }

      .section-content {
        margin-left: 0;
      }

      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .data-grid {
        grid-template-columns: 1fr;
      }

      .footer {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
 <div class="page-wrapper">
  <div class="hero-section">
    <div class="security-chip"><span>üîí</span> <span id="chip-text">Trygghet &amp; personvern</span>
   </div>
   <h1 class="hero-title" id="main-title">Vilk√•r og personvern</h1>
   <p class="hero-subtitle" id="subtitle">Her forklarer vi, med enkle ord, hva vi lagrer og hvorfor.</p>
  </div>
  <div class="content-card">
   <div class="section">
    <div class="section-header">
      <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
       <circle cx="12" cy="12" r="10" />
       <line x1="12" y1="8" x2="12" y2="12" />
       <line x1="12" y1="16" x2="12.01" y2="16" />
      </svg>
      <h2 class="section-title" id="section1-title">1. Ansvarsfraskrivelse (Beta)</h2>
     </div>
     <div class="section-content">
      <div class="warning-stripe">
       <p class="warning-text" style="font-weight:600;">Tjenesten leveres "som den er" (as-is) uten noen form for garanti.</p>
      </div>
      <p>Dette er et hobbyprosjekt under utvikling. Tallene er et hjelpemiddel/underholdning, ikke √∏konomisk r√•dgivning. Ved √• bruke appen aksepterer du at:</p>
      <ul style="list-style:disc; margin-left:20px; margin-bottom:16px; color:#4a4a4a; font-size:15px;">
       <li><strong>Ingen erstatningsansvar:</strong> Utvikler er ikke ansvarlig for √∏konomiske tap, overtrekk av konto, feil i budsjettberegninger eller andre konsekvenser. Tallene er kun en indikasjon.</li>
       <li><strong>Datatap kan forekomme:</strong> Data kan g√• tapt ved oppdateringer eller feil. Ikke bruk appen som eneste lagring for viktig historikk.</li>
       <li><strong>Ingen oppetidsgaranti:</strong> Tjenesten kan bli utilgjengelig, endres eller legges ned uten forvarsel.</li>
      </ul>
     </div>
    </div>

    <div class="section">
     <div class="section-header">
      <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
       <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
       <circle cx="12" cy="7" r="4" />
      </svg>
      <h2 class="section-title" id="section2-title">2. Personvern og dine data</h2>
     </div>
     <div class="section-content">
      <p>Behandlingsansvarlig er Joachim Bye. Vi behandler data for √• levere tjenesten basert p√• samtykke (GDPR art. 6.1.a) og for √• oppfylle avtalen om bruk av appen (GDPR art. 6.1.b).</p>

      <h3 style="font-size:16px; font-weight:600; margin-top:16px;">Hva lagres?</h3>
      <ul style="list-style:disc; margin-left:20px; color:#4a4a4a; font-size:15px;">
       <li><strong>Identifikasjon:</strong> E-postadresse (for innlogging) og bruker-ID.</li>
       <li><strong>Brukergenerert innhold:</strong> Budsjettall, kj√∏pshistorikk, varelinjer, middagsplaner og navn p√• husholdning.</li>
       <li><strong>Tekniske spor:</strong> IP-adresse og nettleserinfo brukt til sikkerhetsfiltre og misbruksvern.</li>
      </ul>
      <p style="margin-top:8px;">Meny/allergifilter skjer i nettleseren. Vi lagrer ikke allergiopplysninger i databasen per i dag.</p>

      <h3 style="font-size:16px; font-weight:600; margin-top:16px;">Tredjeparter og lagring</h3>
      <div class="info-box">
       <div class="info-box-header">
        <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
         <circle cx="12" cy="12" r="10" />
         <line x1="12" y1="16" x2="12" y2="12" />
         <line x1="12" y1="8" x2="12.01" y2="8" />
        </svg>
        <p class="info-box-title">Databehandlere</p>
       </div>
       <ul>
        <li><strong>Supabase (database og innlogging):</strong> Lagrer alle data. Supabase Inc. er amerikansk; selv med EU/E√òS-region kan support-tilgang/metadata inneb√¶re overf√∏ring til USA under gjeldende overf√∏ringsmekanismer (Data Privacy Framework).</li>
        <li><strong>Cloudflare (sikkerhet):</strong> Trafikk rutes via Cloudflare for √• hindre angrep. De behandler IP-adresse og nettleserfingeravtrykk midlertidig i sine logger.</li>
       </ul>
      </div>

      <h3 style="font-size:16px; font-weight:600; margin-top:16px;">Lokal lagring (localStorage)</h3>
      <p>Vi bruker lokal lagring for fart og offline-st√∏tte. P√• delte/offentlige PC-er m√• du manuelt t√∏mme nettleserdata etter bruk, ellers kan andre se budsjett og handlelister.</p>
      <p style="margin-top:8px;">Utloggingen sletter kjente n√∏kler, men hvis nye n√∏kler legges til i fremtiden kan rester bli igjen. T√∏m nettleserdata etter bruk p√• delte enheter.</p>
      <div class="info-notice">Vi selger eller deler ikke data med annons√∏rer.</div>
     </div>
    </div>

    <div class="section">
     <div class="section-header">
      <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
       <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
      </svg>
      <h2 class="section-title" id="section3-title">3. Sletting og rettigheter</h2>
    </div>
    <div class="section-content">
      <p>Du eier dine data. Du har rett til innsyn, korrigering, sletting, begrensning av behandling, dataportabilitet og til √• klage til Datatilsynet.</p>
      <p><strong>Sletting:</strong> Send e-post til <a href="mailto:joachimbye2@gmail.com" class="contact-email">joachimbye2@gmail.com</a>. Du kan ogs√• bruke knappen "Slett konto" p√• innstillingssiden i appen. N√•r du bruker denne funksjonen, slettes kontoen og tilknyttede data fra den aktive databasen innen 30 dager. Data kan fortsatt ligge i krypterte sikkerhetskopier i en begrenset periode f√∏r de overskrives automatisk.</p>
    </div>
    </div>

    <div class="section">
     <div class="section-header">
      <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
       <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
       <polyline points="22,6 12,13 2,6" />
      </svg>
      <h2 class="section-title" id="section4-title">4. Lovvalg og m√•lgruppe</h2>
     </div>
     <div class="section-content">
      <p>Tjenesten reguleres av norsk rett. Verneting er Nord-Troms tingrett.</p>
      <p>Tjenesten er ikke tillatt for barn under 13 √•r.</p>
     </div>
    </div>

    <div class="section">
     <div class="section-header">
      <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
       <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
       <polyline points="22,6 12,13 2,6" />
      </svg>
      <h2 class="section-title" id="section5-title">5. Kontakt</h2>
     </div>
     <div class="section-content">
      <div class="contact-box">
       <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
        <polyline points="22,6 12,13 2,6" />
       </svg>
       <div class="contact-content">
        <p><strong>Kontakt utvikler:</strong></p>
        <p><a href="mailto:joachimbye2@gmail.com" class="contact-email">joachimbye2@gmail.com</a></p>
       </div>
      </div>
     </div>
    </div>
    <div class="footer">
     <p class="footer-text" id="footer-text">Sist oppdatert: november 2025</p><a href="innlogging.html" class="back-link" id="back-link">‚Üê <span id="back-link-text">Tilbake til innlogging</span></a>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      chip_text: 'Trygghet & personvern',
      main_title: 'Vilk√•r og personvern',
      subtitle: 'Her forklarer vi, med enkle ord, hva vi lagrer og hvorfor.',
      section1_title: '1. Om tjenesten (beta og "som den er")',
      section2_title: '2. Personvern og databehandling',
      section3_title: '3. Dine rettigheter (innsyn, retting, sletting)',
      section4_title: '4. Sletting av konto og data',

      section5_title: '5. Kontakt oss',
      footer_text: 'Sist oppdatert: 28/11/2025',

      section5_title: '5. Kontakt og innsyn',
      footer_text: 'Sist oppdatert: november 2025',
      64ae03b (Lover og personvern oppdatering)
      back_link_text: 'Tilbake til innlogging',
      background_color: '#f0f9f4',
      card_background: '#ffffff',
      primary_text: '#1a1a1a',
      accent_color: '#52b788',
      secondary_text: '#5a5a5a'
    };

    async function onConfigChange(config) {
      const chipText = config.chip_text || defaultConfig.chip_text;
      const mainTitle = config.main_title || defaultConfig.main_title;
      const subtitle = config.subtitle || defaultConfig.subtitle;
      const section1Title = config.section1_title || defaultConfig.section1_title;
      const section2Title = config.section2_title || defaultConfig.section2_title;
      const section3Title = config.section3_title || defaultConfig.section3_title;
      const section4Title = config.section4_title || defaultConfig.section4_title;
      const section5Title = config.section5_title || defaultConfig.section5_title;
      const footerText = config.footer_text || defaultConfig.footer_text;
      const backLinkText = config.back_link_text || defaultConfig.back_link_text;

      document.getElementById('chip-text').textContent = chipText;
      document.getElementById('main-title').textContent = mainTitle;
      document.getElementById('subtitle').textContent = subtitle;
      document.getElementById('section1-title').textContent = section1Title;
      document.getElementById('section2-title').textContent = section2Title;
      document.getElementById('section3-title').textContent = section3Title;
      document.getElementById('section4-title').textContent = section4Title;
      document.getElementById('section5-title').textContent = section5Title;
      document.getElementById('footer-text').textContent = footerText;
      document.getElementById('back-link-text').textContent = backLinkText;

      const backgroundColor = config.background_color || defaultConfig.background_color;
      const cardBackground = config.card_background || defaultConfig.card_background;
      const primaryText = config.primary_text || defaultConfig.primary_text;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const secondaryText = config.secondary_text || defaultConfig.secondary_text;

      document.body.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${backgroundColor} 100%)`;
      document.querySelector('.content-card').style.backgroundColor = cardBackground;
      document.querySelector('.security-chip').style.backgroundColor = cardBackground;
      
      const primaryTextElements = document.querySelectorAll('.hero-title, .section-title, .data-item-title, .info-box-title');
      primaryTextElements.forEach(el => el.style.color = primaryText);
      
      const accentElements = document.querySelectorAll('.security-chip, .back-link, .contact-email');
      accentElements.forEach(el => el.style.color = accentColor);
      
      const secondaryTextElements = document.querySelectorAll('.hero-subtitle, .section-content, .data-item-desc, .footer-text, .warning-text');
      secondaryTextElements.forEach(el => el.style.color = secondaryText);
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            }
          },
          {
            get: () => config.card_background || defaultConfig.card_background,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.card_background = value;
                window.elementSdk.setConfig({ card_background: value });
              }
            }
          },
          {
            get: () => config.primary_text || defaultConfig.primary_text,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.primary_text = value;
                window.elementSdk.setConfig({ primary_text: value });
              }
            }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            }
          },
          {
            get: () => config.secondary_text || defaultConfig.secondary_text,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.secondary_text = value;
                window.elementSdk.setConfig({ secondary_text: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ['chip_text', config.chip_text || defaultConfig.chip_text],
        ['main_title', config.main_title || defaultConfig.main_title],
        ['subtitle', config.subtitle || defaultConfig.subtitle],
        ['section1_title', config.section1_title || defaultConfig.section1_title],
        ['section2_title', config.section2_title || defaultConfig.section2_title],
        ['section3_title', config.section3_title || defaultConfig.section3_title],
        ['section4_title', config.section4_title || defaultConfig.section4_title],
        ['section5_title', config.section5_title || defaultConfig.section5_title],
        ['footer_text', config.footer_text || defaultConfig.footer_text],
        ['back_link_text', config.back_link_text || defaultConfig.back_link_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a55a26da4dc56af',t:'MTc2NDI4ODU0NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
